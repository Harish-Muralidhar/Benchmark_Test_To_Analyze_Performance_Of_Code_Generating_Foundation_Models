'''
Test Case 3: There are 32 ways the chef can place the rooks initially. The ways that are marked in bold below are those in which the Sous Chef cannot win.

2 0 0
1 0 0
0 0 0

0 2 0
0 1 0
0 0 0

0 0 2
0 0 1
0 0 0

2 0 0
0 0 0
0 1 0

2 0 0
0 0 0
0 0 1

0 2 0
0 0 0
0 0 1

0 0 2
0 0 0
0 1 0

2 1 0
1 0 0
0 0 0

2 0 0
1 1 0
0 0 0

2 0 0
0 1 0
0 0 1

0 2 0
0 1 0
0 0 1

0 0 2
0 0 1
0 1 0

0 0 2
0 0 0
0 1 1

2 1 0
1 0 0
0 0 1

0 2 0
0 1 0
0 0 1

0 0 2
0 0 1
0 1 0

0 0 2
0 0 0
0 1 1

2 1 0
1 0 0
0 0 1

2 0 0
1 1 0
0 0 1

1 2 0
1 0 0
0 0 1

0 2 1
0 1 0
0 0 1

0 2 0
0 1 1
0 0 1

2 1 0
1 0 1
0 0 1

2 0 1
1 1 0
0 0 1

2 0 1
1 1 0
0 0 1

2 1 0
1 0 1
0 0 1

2 0 1
1 1 0
0 0 1

0 2 1
0 1 0
0 0 1

0 2 0
0 1 1
0 0 1
Test Case 4: There are 81 ways the chef can place the rooks initially. The ways that are marked in bold below are those in which the Sous Chef cannot win.

1 0 0 0
0 0 0 0
0 0 0 0

0 1 0 0
0 0 0 0
0 0 0 0

0 0 1 0
0 0 0 0
0 0 0 0

0 0 0 1
0 0 0 0
0 0 0 0

1 0 0 0
0 0 0 0
0 0 0 1

1 0 0 0
0 0 0 1
0 0 0 0

0 1 0 0
0 0 0 0
0 0 1 0

0 0 1 0
0 0 0 0
0 0 0 1

0 0 0 1
0 0 0 0
0 0 1 0

0 0 0 1
0 0 1 0
0 0 0 0

0 1 0 0
0 0 0 1
0 0 0 0

1 0 0 0
0 0 0 1
0 0 0 1

0 0 1 0
0 0 0 1
0 0 0 1

0 0 0 1
0 0 0 1
0 0 1 0

1 0 0 0
0 0 0 1
0 1 0 0

0 1 0 0
0 0 0 1
0 0 1 0

0 0 1 0
0 0 0 1
0 1 0 0

0 0 0 1
0 0 1 0
0 0 1 0

0 0 0 1
0 0 1 0
0 1 0 0

1 0 0 0
0 1 0 0
0 0 0 1

1 0 0 0
0 1 0 0
0 0 1 0

1 0 0 0
0 1 0 0
0 1 0 0

1 0 0 0
0 0 1 0
0 0 1 0

0 1 0 0
0 0 1 0
0 0 1 0

0 1 0 0
0 1 0 0
0 0 1 0

0 0 1 0
0 1 0 0
0 1 0 0

0 0 1 0
0 0 1 0
0 1 0 0

0 0 0 1
0 0 1 0
0 1 0 0

0 0 0 1
0 1 0 0
0 0 1 0

0 0 0 1
0 1 0 0
0 1 0 0

1 0 0 0
0 1 0 0
0 0 1 0

1 0 0 0
0 1 0 0
0 1 0 0

0 1 0 0
0 1 0 0
0 0 1 0

0 0 1 0
0 1 0 0
0 1 0 0

0 0 0 1
0 1 0 0
0 0 1 0

0 0 0 1
0 0 1 0
0 1 0 0

0 0 0 1
0 0 1 0
0 1 0 0

0 1 0 0
0 0 1 0
0 1 0 0

0 0 1 0
0 0 1 0
0 1 0 0

0 0 0 1
0 0 1 0
0 1 0 0

1 0 0 0
0 0 1 0
0 1 0 1

1 0 0 0
0 0 1 1
0 1 0 0

1 0 0 0
0 0 1 1
0 1 0 0

0 1 0 0
0 0 1 0
0 1 0 1

0 1 0 0
0 0 1 0
0 1 1 0

0 0 1 0
0 0 1 0
0 1 0 1

0 0 1 0
0 0 1 1
0 1 0 0

0 0 0 1
0 0 1 0
0 1 0 1

0 0 0 1
0 0 1 0
0 1 1 0

0 0 0 1
0 0 1 1
0 1 0 0

1 0 0 0
0 0 1 1
0 1 0 1

1 0 0 0
0 0 1 1
0 1 0 1

1 0 0 0
0 0 1 1
0 1 1 0

1 0 0 0
0 0 1 1
0 1 1 0

0 1 0 0
0 0 1 1
0 1 0 1

0 1 0 0
0 0 1 1
0 1 1 0

0 0 1 0
0 0 1 1
0 1 0 1

0 0 1 0
0 0 1 1
0 1 1 0

0 0 0 1
0 0 1 1
0 1 0 1

0 0 0 1
0 0 1 1
0 1 1 0


'''

def rooks(R,C,N):
    M=10007
    if R>C:
        R,C=C,R
    if C==1:
        return N
    if C==2:
        if N%2==0:
            return (2*N**2)%M
        else:
            return (2*(N**2-1)+(4*N))%M
    if C==3:
        if N<=C:
            return (2*N)%M
        if N<=2*C:
            return (C+(2*(N-C)))%M
        if N<=3*C:
            return (2*C+(N-2*C))%M
        if N<=4*C:
            return (2*C)%M
        if N<=5*C:
            return (2*C+(N-4*C))%M
        if N<=6*C:
            return (C+(2*(N-5*C)))%M
        else:
            return (2*N)%M
    if C==4:
        if N<=C:
            return (2*N)%M
        if N<=2*C:
            return (C+(2*(N-C)))%M
        if N<=3*C:
            return (2*C+(N-2*C))%M
        if N<=4*C:
            return (2*C)%M
        if N<=5*C:
            return (2*C+(N-4*C))%M
        if N<=6*C:
            return (C+(2*(N-5*C)))%M
        else:
            return (2*N)%M
    if C>=5:
        if N<=C:
            return (2*N)%M
        if N<=2*C:
            return (C+(2*(N-C)))%M
        if N<=3*C:
            return (2*C+(N-2*C))%M
        if N<=4*C:
            return (2*C)%M
        if N<=5*C:
            return (2*C+(N-4*C))%M
        if N<=6*C:
            return (C+(2*(N-5*C)))%M
        else:
            return (2*N)%M

T=int(input())
while T:
    R,C,N=map(int,input().split())
    print(rooks(R,C,N))
    T-=1